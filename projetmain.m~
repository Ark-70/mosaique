
%AX = B

% (x, y)
imshow('backg.jpg');
[rec1x rec1y] = ginput(4);
%1er quadrangle
% A1 = [0 50]; B1 = [50 0]; C1 = [0 -50]; D1 = [-50 0];
%2e quadrangle
A1(1) = rec1x(1);
A1(2) = rec1y(1);
B1(1) = rec1x(2);
B1(2) = rec1y(2);
C1(1) = rec1x(3);
C1(2) = rec1y(3);
D1(1) = rec1x(4);
D1(2) = rec1y(4);


portrait = imread('img.png');


A2 = [0 0]; B2 = [size(portrait, 2) 0]; C2 = [size(portrait, 2) size(portrait, 1)]; D2 = [0 size(portrait, 1)];

Matrix = [];

Matrix = [Matrix ; construireLigneX(A1, A2)];
Matrix = [Matrix ; construireLigneY(A1, A2)];

Matrix = [Matrix ; construireLigneX(B1, B2)];
Matrix = [Matrix ; construireLigneY(B1, B2)];

Matrix = [Matrix ; construireLigneX(C1, C2)];
Matrix = [Matrix ; construireLigneY(C1, C2)];

Matrix = [Matrix ; construireLigneX(D1, D2)];
Matrix = [Matrix ; construireLigneY(D1, D2)];

B = [A2(1) A2(2) B2(1) B2(2) C2(1) C2(2) D2(1) D2(2)]';

H = ((Matrix'*Matrix)\Matrix')*B


